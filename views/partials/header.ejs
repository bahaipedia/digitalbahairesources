<header class="<%= mini ? 'mini-header' : '' %>">
    <div class="header-container">
        <div class="logo-text">
            <a href="/">Digital <span>Bah√°‚Äô√≠ Resources</span></a>
        </div>
        <nav class="header-nav-bar">
            <ul>
                <li><a href="/about">About</a></li>
                <li><a href="/map">Map</a></li>
                <li><a href="/traffic-stats">Traffic Statistics</a></li>
                <li><a href="/database-dumps">Database dumps</a></li>
                <li><a href="https://docs.digitalbahairesources.org/">Docs</a></li>
                <li><a href="/current-activity">Current Activity</a></li>
                <li><a href="/contact">Contact</a></li>
                <li><a href="#" id="theme-icon" onclick="toggleTheme(event)" title="Toggle Theme" style="font-size: 1.2rem; text-decoration: none;">‚òÄÔ∏è</a></li>
            </ul>
        </nav>
    </div>
</header>
<script>
    const savedTheme = localStorage.getItem('theme');
    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    const themeIcon = document.getElementById('theme-icon');
    
    // Set initial theme and icon on load
    if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
        document.documentElement.setAttribute('data-theme', 'dark');
        if (themeIcon) themeIcon.textContent = 'üåô';
    } else {
        if (themeIcon) themeIcon.textContent = '‚òÄÔ∏è';
    }

    // Toggle function
    function toggleTheme(e) {
        e.preventDefault(); 
        const html = document.documentElement;
        
        if (html.getAttribute('data-theme') === 'dark') {
            html.removeAttribute('data-theme');
            localStorage.setItem('theme', 'light');
            themeIcon.textContent = '‚òÄÔ∏è';
        } else {
            html.setAttribute('data-theme', 'dark');
            localStorage.setItem('theme', 'dark');
            themeIcon.textContent = 'üåô';
        }
    }
</script>

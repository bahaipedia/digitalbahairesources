<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stats</title>
    <link rel="stylesheet" href="/styles.css">
    <link rel="stylesheet" href="/traffic-stats.css">
</head>
<body>
    <%- include('partials/header', { mini: true }) %>
    <div class="container">
        <!-- Include Sidebar -->
        <%- include('partials/traffic-sidebar') %>

        <!-- Main Content -->
        <div class="main-content">
            <nav class="traffic-nav">
                <!-- Navigation Bar -->
                <label for="website-select">Website:</label>
                <select id="website-select" name="website">
                    <option value="all">All</option>
                    <% websites.forEach(function(website) { %>
                        <option value="<%= website.id %>"><%= website.name %></option>
                    <% }) %>
                </select>

                <label for="server-select">Server:</label>
                <select id="server-select" name="server">
                    <option value="all">All</option>
                    <% servers.forEach(function(server) { %>
                        <option value="<%= server.id %>"><%= server.location %></option>
                    <% }) %>
                </select>

                <label for="year-select">Year:</label>
                <select id="year-select" name="year">
                    <% years.forEach(function(y) { %>
                        <option value="<%= y %>" <%= y === selectedYear ? 'selected' : '' %>><%= y %></option>
                    <% }) %>
                </select>

                <label for="month-select">Month:</label>
                <select id="month-select" name="month">
                    <% months.forEach(function(m) { %>
                        <option value="<%= m %>" <%= m === selectedMonth ? 'selected' : '' %>><%= m %></option>
                    <% }) %>
                </select>
            </nav>

            <!-- Content Sections -->
            <%- include('partials/summary-highlight') %>
            <%- include('partials/summary-monthly') %>
            <%- include('partials/summary-daily') %>
            <%- include('partials/pie-charts') %>
        </div>
    </div>
    <script src="/traffic-stats.js"></script>
    <script src="/js/chart.umd.js"></script>
    <%- include('partials/footer') %>
</body>
</html>
